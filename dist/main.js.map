{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./ToyReact.js","webpack:///./index.js"],"names":["childrenSymbol","Symbol","ElementWrapper","type","root","document","createElement","props","Object","create","children","name","value","vChild","push","vDom","range","placeholder","createComment","endRange","createRange","setStart","endContainer","endOffset","setEnd","insertNode","deleteContents","element","entries","forEach","prop","attributeName","match","addEventListener","RegExp","$1","replace","c","toLowerCase","setAttribute","child","length","setStartAfter","lastChild","setEndAfter","mountTo","TextWrapper","createTextNode","Component","console","log","update","oldVdom","isSameNode","node1","node2","JSON","stringify","keys","isSameTree","i","len","newTree","oldTree","indent","state","merge","prevState","newState","key","hasOwnProperty","call","Array","constructor","render","ToyReact","attributes","insertChildren","newChild","isArray","String","appendChild","Square","onClick","Board","squares","status","renderSquare","Game","history","fill","stepNumber","xIsNext","slice","current","calculateWinner","setState","concat","step","winner","moves","map","move","desc","jumpTo","handleClick","body","lines","a","b"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","const childrenSymbol = Symbol('children')\n\nclass ElementWrapper {\n  constructor(type) {\n    this.root = document.createElement(type)\n    this.type = type\n    this.props = Object.create(null)\n    this[childrenSymbol] = []\n    this.children = []\n  }\n\n  setAttribute(name, value) {\n    // let attributeName = name\n\n    // if (attributeName === 'className') {\n    //   attributeName = 'class'\n    // }\n\n    // if (name.match(/^on([\\s\\S]+)$/)) {\n    //   this.root.addEventListener(\n    //     RegExp.$1.replace(/^[\\s\\S]/, (c) => c.toLowerCase()),\n    //     value\n    //   )\n    // } else {\n    //   this.root.setAttribute(attributeName, value)\n    // }\n\n    this.props[name] = value\n  }\n\n  appendChild(vChild) {\n    this[childrenSymbol].push(vChild)\n    this.children.push(vChild.vDom)\n    // let range = document.createRange()\n\n    // if (this.root.children.length) {\n    //   range.setStartAfter(this.root.lastChild)\n    //   range.setEndAfter(this.root.lastChild)\n    // } else {\n    //   range.setStart(this.root, 0)\n    //   range.setEnd(this.root, 0)\n    // }\n\n    // vChild.mountTo(range)\n  }\n\n  get vDom() {\n    return this\n    // return {\n    //   type: this.type,\n    //   props: this.props,\n    //   children: this.children.map((child) => child.vDom),\n    // }\n  }\n\n  mountTo(range) {\n    this.range = range\n\n    let placeholder = document.createComment('placeholder')\n    let endRange = document.createRange()\n    endRange.setStart(range.endContainer, range.endOffset)\n    endRange.setEnd(range.endContainer, range.endOffset)\n    endRange.insertNode(placeholder)\n\n    range.deleteContents()\n    let element = document.createElement(this.type)\n\n    Object.entries(this.props).forEach(([prop, value]) => {\n      let attributeName = prop\n\n      if (attributeName === 'className') {\n        attributeName = 'class'\n      }\n\n      if (attributeName.match(/^on([\\s\\S]+)$/)) {\n        element.addEventListener(\n          RegExp.$1.replace(/^[\\s\\S]/, (c) => c.toLowerCase()),\n          value\n        )\n      } else {\n        element.setAttribute(attributeName, value)\n      }\n    })\n\n    this.children.forEach((child) => {\n      let range = document.createRange()\n\n      if (element.children.length) {\n        range.setStartAfter(element.lastChild)\n        range.setEndAfter(element.lastChild)\n      } else {\n        range.setStart(element, 0)\n        range.setEnd(element, 0)\n      }\n\n      child.mountTo(range)\n    })\n\n    // let range = document.createRange()\n\n    // if (element.children.length) {\n    //   range.setStartAfter(element.lastChild)\n    //   range.setEndAfter(element.lastChild)\n    // } else {\n    //   range.setStart(element, 0)\n    //   range.setEnd(element, 0)\n    // }\n\n    // vChild.mountTo(range)\n\n    range.insertNode(element)\n  }\n}\n\nclass TextWrapper {\n  constructor(type) {\n    this.root = document.createTextNode(type)\n    this.type = '#text'\n    this.children = []\n    this.props = Object.create(null)\n  }\n\n  mountTo(range) {\n    this.range = range\n    range.deleteContents()\n    range.insertNode(this.root)\n  }\n\n  get vDom() {\n    return this\n    // return {\n    //   type: '#text',\n    //   props: this.props,\n    //   children: [],\n    // }\n  }\n}\n\nexport class Component {\n  constructor() {\n    this.children = []\n    this.props = Object.create(null)\n  }\n\n  get type() {\n    return this.constructor.name\n  }\n\n  setAttribute(name, value) {\n    this.props[name] = value\n\n    if (name === 'className') {\n      this.class = value\n    } else if (name.match(/^on[\\s\\S]+/)) {\n      console.log(1)\n    } else {\n      this[name] = value\n    }\n  }\n\n  mountTo(range) {\n    this.range = range\n    this.update()\n  }\n\n  update() {\n    // const placeholder = document.createComment('placeholder')\n    // const range = document.createRange()\n    // range.setStart(this.range.endContainer, this.range.endOffset)\n    // range.setEnd(this.range.endContainer, this.range.endOffset)\n    // range.insertNode(placeholder)\n\n    // this.range.deleteContents()\n\n    let vDom = this.vDom\n    if (this.oldVdom) {\n      const isSameNode = (node1, node2) => {\n        if (node1.type !== node2.type) {\n          return false\n        }\n\n        for (const name in node1.props) {\n          if (\n            typeof node1.props[name] === 'object' &&\n            typeof node2.props[name] === 'object' &&\n            JSON.stringify(node1.props[name]) ===\n              JSON.stringify(node2.props[name])\n          ) {\n            continue\n          }\n\n          if (node1.props[name] !== node2.props[name]) {\n            return false\n          }\n        }\n\n        if (\n          Object.keys(node1.props).length !== Object.keys(node2.props).length\n        ) {\n          return false\n        }\n\n        return true\n      }\n\n      const isSameTree = (node1, node2) => {\n        if (!isSameNode(node1, node2)) {\n          return false\n        }\n\n        if (node1.children.length !== node2.children.length) {\n          return false\n        }\n\n        for (let i = 0, len = node1.children.length; i < len; i++) {\n          if (!isSameTree(node1.children[i], node2.children[i])) {\n            return false\n          }\n        }\n\n        return true\n      }\n\n      // if (isSameTree(vDom, this.vDom)) {\n      //   return\n      // }\n\n      // if (isSameNode(vDom, this.vDom)) {\n      //   vDom.mountTo(this.vDom.range)\n      // }\n\n      const replace = (newTree, oldTree, indent) => {\n        console.log(indent + 'new: ', newTree)\n        console.log(indent + 'old: ', oldTree)\n\n        if (isSameTree(newTree, oldTree)) {\n          console.log('all same')\n          return\n        }\n\n        if (isSameNode(newTree, oldTree)) {\n          console.log('all different')\n          newTree.mountTo(oldTree.range)\n        } else {\n          for (let i = 0, len = newTree.children.length; i < len; i++) {\n            replace(newTree.children[i], oldTree.children[i], ' ' + indent)\n          }\n        }\n      }\n\n      replace(vDom, this.oldVdom, '')\n    } else {\n      vDom.mountTo(this.range)\n    }\n\n    this.oldVdom = vDom\n\n    // placeholder.parentNode.removeChild(placeholder)\n  }\n\n  get vDom() {\n    return this.render().vDom\n  }\n\n  appendChild(vChild) {\n    this.children.push(vChild)\n  }\n\n  setState(state) {\n    let merge = (prevState, newState) => {\n      for (let key in newState) {\n        if (Object.hasOwnProperty.call(newState, key)) {\n          if (typeof newState[key] === 'object' && newState[key] !== null) {\n            if (typeof prevState[key] !== 'object') {\n              if (newState[key] instanceof Array) {\n                prevState[key] = []\n              } else {\n                prevState[key] = {}\n              }\n            }\n\n            merge(prevState[key], newState[key])\n          } else {\n            prevState[key] = newState[key]\n          }\n        }\n      }\n    }\n\n    if (!this.state && state) {\n      this.state = {}\n    }\n\n    merge(this.state, state)\n\n    this.update()\n  }\n}\n\nexport const ToyReact = {\n  createElement(type, attributes, ...children) {\n    let element\n\n    if (typeof type === 'string') {\n      element = new ElementWrapper(type)\n    } else {\n      // prettier-ignore\n      element = new type\n    }\n\n    if (attributes) {\n      Object.entries(attributes).forEach(([name, value]) => {\n        element.setAttribute(name, value)\n      })\n    }\n\n    const insertChildren = (children) => {\n      children.forEach((child) => {\n        let newChild = child\n\n        if (Array.isArray(child)) {\n          insertChildren(child)\n        } else {\n          if (child === null || child === void 0) {\n            child = ''\n          }\n\n          if (\n            !(\n              child instanceof Component ||\n              child instanceof ElementWrapper ||\n              child instanceof TextWrapper\n            )\n          ) {\n            newChild = String(child)\n          }\n\n          if (typeof newChild === 'string') {\n            newChild = new TextWrapper(child)\n          }\n\n          element.appendChild(newChild)\n        }\n      })\n    }\n\n    insertChildren(children)\n\n    return element\n  },\n\n  render(vDom, element) {\n    let range = document.createRange()\n\n    if (element.children) {\n      range.setStartAfter(element.lastChild)\n      range.setEndAfter(element.lastChild)\n    } else {\n      range.setStart(element, 0)\n      range.setEnd(element, 0)\n    }\n\n    vDom.mountTo(range)\n  },\n}\n","import { ToyReact, Component } from './ToyReact'\n\n// console.log(ToyReact)\n\nclass Square extends Component {\n  render() {\n    return (\n      <button className=\"square\" onClick={this.props.onClick}>\n        {this.props.value}\n      </button>\n    )\n  }\n}\n\nclass Board extends Component {\n  // constructor(props) {\n  //   super(props)\n  //   this.state = {\n  //     squares: Array(9).fill(null),\n  //   }\n  // }\n\n  // handleClick = (i) => {\n  //   console.log('i: ', i)\n  // }\n\n  renderSquare(i) {\n    return (\n      <Square\n        value={this.props.squares[i]}\n        onClick={() => this.props.onClick(i)}\n      />\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"status\">{status}</div>\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass Game extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      history: [\n        {\n          squares: Array(9).fill(null),\n        },\n      ],\n      stepNumber: 0,\n      xIsNext: true,\n    }\n  }\n\n  handleClick(i) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1)\n    const current = history[history.length - 1]\n    const squares = current.squares.slice()\n    if (calculateWinner(squares) || squares[i]) {\n      return\n    }\n    squares[i] = this.state.xIsNext ? 'X' : 'O'\n    this.setState({\n      history: history.concat([\n        {\n          squares: squares,\n        },\n      ]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext,\n    })\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: step % 2 === 0,\n    })\n  }\n\n  render() {\n    const history = this.state.history\n    const current = history[this.state.stepNumber]\n    const winner = calculateWinner(current.squares)\n\n    const moves = history.map((step, move) => {\n      const desc = move ? 'Go to move #' + move : 'Go to game start'\n      return (\n        <li key={move}>\n          <button onClick={() => this.jumpTo(move)}>{desc}</button>\n        </li>\n      )\n    })\n\n    let status\n    if (winner) {\n      status = 'Winner: ' + winner\n    } else {\n      status = 'Next player: ' + (this.state.xIsNext ? 'X' : 'O')\n    }\n\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board\n            squares={current.squares}\n            onClick={(i) => this.handleClick(i)}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n          <ol>{moves}</ol>\n        </div>\n      </div>\n    )\n  }\n}\n\nToyReact.render(<Game />, document.body)\n\n// const game = <Game />\n\n// console.log(game.vDom)\n\nfunction calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ]\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i]\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a]\n    }\n  }\n  return null\n}\n"],"sourceRoot":""}